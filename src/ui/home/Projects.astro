---
import { Avatar } from "@ui/components/avatar/avatar";
import { Badge } from "@ui/components/badge/badge";
import { Card, CardContent, CardFooter, CardHeader, CardTitle } from "@ui/components/card/card";
import { parseRecord } from "@utils/common";
import type { Repository } from "@ui/home/api/github/types/Repository.type";

interface Props {
  repos: Record<string, Repository>;
}

const { repos } = Astro.props;

const projects = parseRecord<Repository>(repos);

---
  {
    projects.map(project => 
      <Card>
          <CardHeader>
            <CardTitle>
              <div class="h-max w-auto flex items-center">
                <Avatar 
                  src={""}
                  alt={""}
                  fallback={""}
                  className="w-[32px] h-[32px] inline-block"
                />
                <div class="ml-3">
                  <h3 class="text-woodsmoke-50 text-base inline-block">Astro Portfolio</h3>
                  <span class="text-woodsmoke-400 text-base font-medium tracking-wide">&bullet; v0.0.1</span>
                </div>
              </div>
            </CardTitle>
          </CardHeader>
          <CardContent className="text-woodsmoke-200 text-sm">
            Aliquip facilisis justo ut ipsum wisi.
          </CardContent>
          <CardFooter className="space-y-0 space-x-3.5">
            <Avatar 
              src={""}
              alt={""}
              fallback={""}
              className="w-[32px] h-[32px] inline-block"
            />
            <div class="flex space-x-2.5">
              <Badge variant="secondary">astro</Badge>
              <Badge>react</Badge>
              <Badge>tailwindcss</Badge>
            </div>
          </CardFooter>
        </Card>
    )
  }